import{z as y,y as v,x as N,o as c,w as e,L as m,D as S,C as u}from"./index-D4LYBwNK.js";import{u as E,o as k,c as L,a as x}from"./loader-B1E_7SpD.js";import{a as P,b as D,c as q}from"./index-C6MRxvHC.js";import{L as z}from"./Loader-DxZAQYXB.js";import"./iconBase-DEhVcGRV.js";const F=L({email:x().email("Invalid email format").required("Email is required"),password:x().min(8,"Password must be at least 8 characters").required("Password is required")}).required(),$={backgroundImage:'url("https://images.pexels.com/photos/2363/france-landmark-lights-night.jpg")',backgroundPosition:"center",backgroundRepeat:"no-repeat",backgroundSize:"cover",width:"100%"},M=()=>{const{register:l,handleSubmit:p,reset:h,formState:{errors:s,isSubmitting:n}}=E({resolver:k(F)}),r=y(),f=v(),{userData:d}=N(o=>o.auth),[t,g]=c.useState(!1),[b,{isLoading:i}]=P();if(c.useEffect(()=>{d&&r("/")},[d,r]),i)return e.jsx(z,{});const w=async({email:o,password:j})=>{try{const a=await b({email:o,password:j}).unwrap();f(S({...a})),u.success("Successfully signed in!"),h(),r("/")}catch(a){console.error("Failed to login user: ",a),u.error(a?.data?.message||"Login failed. Please try again.")}};return e.jsxs("div",{className:"relative w-full min-h-screen",children:[e.jsx("div",{className:"absolute inset-0 z-0 h-dvh",style:$}),e.jsx("div",{className:"absolute inset-0 h-dvh flex justify-center items-center bg-gradient-to-r from-cyan-400/90 to-blue-500/90 z-10 px-[8px] sm:px-[24px] lg:px-[100px] 2xl:px-[200px]",children:e.jsx("form",{onSubmit:p(w),className:"fake-shadow w-full relative shadow shadow-[#4d49e8] lg:max-w-[25rem] h-fit text-slate-900 text-xs bg-white pt-4 pb-6 px-6 md:px-12 rounded-lg [&_*]:transition-all [&_*]:ease-linear [&_*]:duration-200",children:e.jsxs("div",{className:"relative after:content-[''] after:absolute after:sm:w-[105%] after:w-[98%] after:h-[148%] after:bg-[#1D4ED8] after:rounded-lg after:z-[-1] after:-top-[5rem] after:sm:-right-[5rem] after:right-1",children:[e.jsx("h2",{className:"text-3xl font-semibold my-6",children:"Sign in"}),e.jsxs("div",{className:"mb-3",children:[e.jsx("label",{children:"Email"}),e.jsx("input",{...l("email"),placeholder:"Enter your Email address",type:"text",className:`w-full px-3 py-2 border rounded-md transition-all duration-200 
                  focus:outline-none hover:shadow-sm
                  ${s.email?"border-red-500 focus:ring-2 focus:ring-red-500":"border-slate-300 focus:ring-2 focus:ring-blue-500"}
                `}),s.email&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.email.message})]}),e.jsxs("div",{className:"mb-3 relative",children:[e.jsx("label",{children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx("input",{...l("password"),placeholder:"Type your Password",type:t?"text":"password",className:`w-full px-3 py-2 border rounded-md pr-10 transition-all duration-200 
                    focus:outline-none hover:shadow-sm
                    ${s.password?"border-red-500 focus:ring-2 focus:ring-red-500":"border-slate-300 focus:ring-2 focus:ring-blue-500"}
                  `}),e.jsx("button",{type:"button",onClick:()=>g(!t),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500",children:t?e.jsx(D,{}):e.jsx(q,{})})]}),s.password&&e.jsx("p",{className:"text-red-500 text-sm mt-1",children:s.password.message})]}),e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("button",{type:"submit",disabled:n||i,className:"text-white font-semibold bg-blue-400 hover:bg-blue-500 px-3 sm:px-5 py-2 sm:py-3 cursor-pointer rounded-full w-fit",children:n||i?"Loading...":"Sign in"}),e.jsx(m,{to:"/reset-password",className:"hover:underline text-[0.7rem] font-semibold",children:"Forget your password?"})]}),e.jsxs("div",{className:"flex flex-col items-center font-semibold gap-y-2 mt-5",children:[e.jsxs("span",{children:["Don't have an account?"," "]}),e.jsx(m,{to:"/signup",className:"text-blue-500 underline hover:text-blue-600",children:"Sign up"})]})]})})})]})};export{M as default};
