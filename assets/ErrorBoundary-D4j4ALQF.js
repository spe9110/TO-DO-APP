import{o as i,w as t}from"./index-BGeTIgRX.js";import{G as u}from"./iconBase-BIFuJYse.js";import{c as m}from"./index-C1fcU8er.js";const p=i.createContext(null),c={didCatch:!1,error:null};class x extends i.Component{constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=c}static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(...e){const{error:r}=this.state;r!==null&&(this.props.onReset?.({args:e,reason:"imperative-api"}),this.setState(c))}componentDidCatch(e,r){this.props.onError?.(e,r)}componentDidUpdate(e,r){const{didCatch:o}=this.state,{resetKeys:n}=this.props;o&&r.error!==null&&f(e.resetKeys,n)&&(this.props.onReset?.({next:n,prev:e.resetKeys,reason:"keys"}),this.setState(c))}render(){const{children:e,fallbackRender:r,FallbackComponent:o,fallback:n}=this.props,{didCatch:d,error:l}=this.state;let a=e;if(d){const h={error:l,resetErrorBoundary:this.resetErrorBoundary};if(typeof r=="function")a=r(h);else if(o)a=i.createElement(o,h);else if(n!==void 0)a=n;else throw l}return i.createElement(p.Provider,{value:{didCatch:d,error:l,resetErrorBoundary:this.resetErrorBoundary}},a)}}function f(s=[],e=[]){return s.length!==e.length||s.some((r,o)=>!Object.is(r,e[o]))}function g(s){return u({attr:{viewBox:"0 0 24 24"},child:[{tag:"g",attr:{id:"No_Waiting_Sign"},child:[{tag:"path",attr:{d:"M12,2.07a9.93,9.93,0,1,0,7.03,16.95.374.374,0,0,0,.06-.07A9.837,9.837,0,0,0,21.935,12,9.944,9.944,0,0,0,12,2.07Zm0,18.86A8.945,8.945,0,0,1,3.065,12a8.84,8.84,0,0,1,2.28-5.95l12.61,12.61A8.925,8.925,0,0,1,12,20.93Zm6.67-2.98L6.045,5.34a8.934,8.934,0,0,1,12.62,12.61Z"},child:[]}]}]})(s)}function y({error:s,resetErrorBoundary:e}){return t.jsxs("div",{role:"alert",className:"flex flex-col items-center justify-center h-screen bg-neutral-900 gap-8",children:[t.jsx(g,{size:48,className:"text-neutral-500"}),t.jsx("h1",{className:"text-neutral-500 text-4xl",children:"Something went wrong!"}),t.jsx("p",{className:"font-bold text-2xl text-center",children:s?.message||t.jsxs(t.Fragment,{children:["We couldn't connect to the server (API error).",t.jsx("br",{}),"Please try again in a few moments."]})}),t.jsxs("button",{className:"border border-neutral-600 bg-neutral-400 p-[8px] rounded-2xl font-medium flex items-center gap-2",onClick:e,children:[t.jsx(m,{className:"text-lg"}),"Retry"]})]})}const j=({children:s})=>t.jsx(x,{FallbackComponent:y,onReset:()=>window.location.reload(),children:s});export{j as default};
